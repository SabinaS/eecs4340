#include <stdio.h>

#include "flit.h"
#include "types.h"
#include "pipe.h"
#include "packet.h"

#include "config.h"
#include "hwlink.h"

#include "random.h"

int main()
{
	u8 pkt[] = 
	{
		0x45, 0x01, 0x00, 0x34, 0x00, 0x00, 0x00, 0x00,
		0xfe, 0x06, 0x10, 0x05, 0x11, 0x22, 0x33, 0x44,
		0xaa, 0xbb, 0xcc, 0xdd, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x01
	};

	int i;

	int wt[] = { 0, 0, 0, -1 };
	
	for (i=0 ; i<1024 ; i++)
		printf( "%d\n", rdist(wt) );
	
	return;

	hwl_writeRandomConfig();

	for (i=0 ; i<64 ; i++)
	{
		if ( i==39 )
			hwl_reset();

		if ( ! hwl_writeConfig(0) && ! hwl_shiftPacket(0) )
			hwl_shiftRandomPacket();

		hwl_dump();
		pipe_dump();
		
		printf( "\n\n" );
	}

}

